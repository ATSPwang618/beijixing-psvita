# 项目代码结构说明 🏗️

## 📁 目录结构概览

```
beijixing-psvita/
├── demo/                          # 演示程序主目录
│   ├── include/                   # 头文件目录（.hpp文件）
│   │   ├── activity/              # 活动页面头文件
│   │   │   └── main_activity.hpp  # 主界面活动定义
│   │   ├── tab/                   # 标签页头文件
│   │   │   ├── components_tab.hpp    # 组件展示页
│   │   │   ├── settings_tab.hpp      # 设置页面  
│   │   │   ├── transform_tab.hpp     # 变换效果页
│   │   │   ├── text_test_tab.hpp     # 文本测试页
│   │   │   └── recycling_list_tab.hpp # 循环列表页
│   │   └── view/                  # 自定义组件头文件
│   │       ├── captioned_image.hpp   # 带标题图片组件
│   │       └── pokemon_view.hpp      # 宝可梦视图组件
│   ├── src/                       # 源代码目录（.cpp文件）
│   │   ├── activity/              # 活动页面实现
│   │   ├── tab/                   # 标签页实现
│   │   ├── view/                  # 自定义组件实现
│   │   └── main.cpp               # 程序入口点
│   └── resource.manifest          # 资源清单文件
├── resources/                     # 资源文件目录
│   ├── xml/                       # XML布局文件
│   │   ├── activity/              # 活动布局
│   │   │   └── main.xml           # 主界面布局
│   │   ├── tabs/                  # 标签页布局
│   │   │   ├── components.xml     # 组件展示布局
│   │   │   ├── settings.xml       # 设置页面布局
│   │   │   └── ...               # 其他标签页布局
│   │   └── views/                 # 组件布局
│   │       ├── captioned_image.xml # 带标题图片布局
│   │       └── pokemon.xml        # 宝可梦视图布局
│   ├── img/                       # 图片资源
│   ├── font/                      # 字体文件
│   └── i18n/                      # 国际化翻译文件
├── library/                       # Borealis UI框架库
└── CMakeLists.txt                 # 构建配置文件
```

## 🔧 文件类型说明

### 📄 头文件 (.hpp)
**作用**：定义类的结构和接口
- 就像建筑的设计图纸
- 告诉别人这个类有什么功能
- 不包含具体的实现代码

**示例**：`captioned_image.hpp`
```cpp
// 定义了CaptionedImage类的结构
class CaptionedImage : public brls::Box {
    // 声明了构造函数和各种方法
};
```

### 📝 源文件 (.cpp)  
**作用**：实现头文件中声明的功能
- 就像建筑的施工过程
- 包含具体的实现代码
- 定义函数的具体行为

**示例**：`captioned_image.cpp`
```cpp
// 实现了CaptionedImage类的所有功能
CaptionedImage::CaptionedImage() {
    // 具体的初始化代码
}
```

### 🎨 XML文件 (.xml)
**作用**：定义界面布局和样式
- 就像室内装修的设计图
- 描述组件的位置和属性
- 不包含逻辑代码，只管外观

**示例**：`main.xml`
```xml
<!-- 定义了主界面的标签页结构 -->
<brls:TabFrame>
    <brls:Tab label="组件展示">
        <ComponentsTab />
    </brls:Tab>
</brls:TabFrame>
```

## 🔗 文件之间的关系

### 1. 继承关系
```
brls::Box (基础容器)
    ↑
CaptionedImage (带标题图片)
    ↑
我们的自定义组件
```

### 2. 包含关系
```
main.cpp
├── includes → main_activity.hpp
├── includes → components_tab.hpp  
├── includes → settings_tab.hpp
└── includes → ...其他头文件
```

### 3. XML与C++的连接
```
XML文件 ←→ C++类
main.xml ←→ MainActivity
components.xml ←→ ComponentsTab
settings.xml ←→ SettingsTab
```

## 🎯 关键概念解释

### MVC模式（简化版）
- **Model（模型）**：数据部分（如Pokemon类）
- **View（视图）**：界面部分（XML文件）  
- **Controller（控制器）**：逻辑部分（C++类）

### 组件化设计
每个UI组件都是独立的：
- 有自己的头文件（定义）
- 有自己的源文件（实现）
- 有自己的XML文件（布局）

### 事件驱动编程
程序等待用户操作：
- 用户点击按钮 → 触发事件 → 执行对应函数
- 用户拖动滑条 → 触发事件 → 更新界面

## 🚀 程序执行流程

1. **程序启动** (`main.cpp`)
   - 初始化Borealis框架
   - 注册自定义组件
   - 设置主题颜色

2. **创建主界面** (`MainActivity`)
   - 加载main.xml布局
   - 创建标签页框架

3. **创建各个标签页**
   - ComponentsTab、SettingsTab等
   - 加载对应的XML布局文件
   - 绑定事件处理函数

4. **响应用户操作**
   - 用户点击、拖动、输入
   - 调用对应的C++函数
   - 更新界面显示

## 💡 学习建议

### 对于初学者
1. **先看XML**：理解界面结构
2. **再看头文件**：理解类的设计
3. **最后看源文件**：理解具体实现

### 对于进阶学习
1. **追踪代码流程**：从main.cpp开始
2. **理解设计模式**：观察代码组织方式
3. **尝试修改**：改变参数看效果

### 调试技巧
1. **添加日志**：在关键位置输出信息
2. **逐步调试**：一步步执行代码
3. **阅读注释**：理解代码意图

---

**记住：理解项目结构是学好编程的第一步！** 📚✨